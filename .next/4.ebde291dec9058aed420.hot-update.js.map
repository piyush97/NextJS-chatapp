{"version":3,"file":"4.ebde291dec9058aed420.hot-update.js","sources":["webpack:///components/Chat.js","webpack:///pages/index.js"],"sourcesContent":[" import React, { Component, Fragment } from 'react';\n    import axios from 'axios';\n    import Pusher from 'pusher-js';\n    \n    class Chat extends Component {\n    \n      state = { chats: [] }\n      \n      componentDidMount() {\n      \n        this.pusher = new Pusher(process.env.PUSHER_APP_KEY, {\n          cluster: process.env.PUSHER_APP_CLUSTER,\n          encrypted: true\n        });\n        \n        this.channel = this.pusher.subscribe('chat-room');\n        \n        this.channel.bind('new-message', ({ chat = null }) => {\n          const { chats } = this.state;\n          chat && chats.push(chat);\n          this.setState({ chats });\n        });\n        \n        this.pusher.connection.bind('connected', () => {\n          axios.post('/messages')\n            .then(response => {\n              const chats = response.data.messages;\n              this.setState({ chats });\n            });\n        });\n        \n      }\n      \n      componentWillUnmount() {\n        this.pusher.disconnect();\n      }\n       handleKeyUp = evt => {\n      const value = evt.target.value;\n      \n      if (evt.keyCode === 13 && !evt.shiftKey) {\n        const { activeUser: user } = this.props;\n        const chat = { user, message: value, timestamp: +new Date };\n        \n        evt.target.value = '';\n        axios.post('/message', chat);\n      }\n    }\n    \n    render() {\n      return (this.props.activeUser && <Fragment>\n      \n        <div className=\"border-bottom border-gray w-100 d-flex align-items-center bg-white\" style={{ height: 90 }}>\n          <h2 className=\"text-dark mb-0 mx-4 px-2\">{this.props.activeUser}</h2>\n        </div>\n        \n        <div className=\"border-top border-gray w-100 px-4 d-flex align-items-center bg-light\" style={{ minHeight: 90 }}>\n          <textarea className=\"form-control px-3 py-2\" onKeyUp={this.handleKeyUp} placeholder=\"Enter a chat message\" style={{ resize: 'none' }}></textarea>\n        </div>\n        \n      </Fragment> )\n    }\n    }\n    \n    export default Chat;\n\n\n\n// WEBPACK FOOTER //\n// components/Chat.js","import React, { Component } from 'react';\nimport Layout from '../components/Layout';\nimport Chat from '../components/Chat';\n\n    class IndexPage extends Component {\n    constructor(props){\n    \tsuper(props);\n\t    this.state = { user: null }\n    }\n      \n      handleKeyUp = evt => {\n        if (evt.keyCode === 13) {\n          const user =  evt.target.value;\n          this.setState({ user });\n        }\n      }\n      \n      render() {\n        const { user } = this.state;\n        \n        const nameInputStyles = {\n          background: 'transparent',\n          color: '#999',\n          border: 0,\n          borderBottom: '1px solid #666',\n          borderRadius: 0,\n          fontSize: '4rem',\n          fontWeight: 500,\n          boxShadow: 'none !important'\n        };\n        \n        return (\n          <Layout pageTitle=\"Sentimental Chat By Piyush\">\n          \n            <main className=\"container-fluid position-absolute h-100 bg-dark\">\n            \n              <div className=\"row position-absolute w-100 h-100\">\n              \n                <section className=\"col-md-8 d-flex flex-row flex-wrap align-items-center align-content-center px-5\">\n                  <div className=\"px-5 mx-5\">\n                    <span className=\"d-block w-100 h1 text-light\" style={{marginTop: -50}}>\n                      {\n                        user\n                          ? (<span>\n                              <span style={{color: '#999'}}>Ji aaya nu!</span> {user}\n                            </span>)\n                          : `Ahoo!  \n                            Naa Ki hai Tuhada?`\n                      }\n                    </span>\n                    { !user && <input type=\"text\" className=\"form-control mt-3 px-3 py-2\" onKeyUp={this.handleKeyUp} autoComplete=\"off\" style={nameInputStyles} /> }\n                  </div>\n                </section>\n                <section className=\"col-md-4 position-relative d-flex flex-wrap h-100 align-items-start align-content-between bg-white px-0\"></section>\n\t\t\t\t<section className=\"col-md-4 position-relative d-flex flex-wrap h-100 align-items-start align-content-between bg-white px-0\">\n\t\t\t\t      { user && <Chat activeUser={user} /> }\n\t\t\t\t    </section>\n              </div>   \n\n            </main>\n\n          </Layout>\n        );\n      }\n      \n    }\n    \nexport default IndexPage;\n\n\n// WEBPACK FOOTER //\n// pages/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AAEA;AAAA;AAAA;;;;;AA8BA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;;;;;;AAtCA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAKA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;;;AAEA;AACA;AACA;;;AAaA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAxDA;AACA;AA0DA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/DA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAVA;AAEA;AAAA;AAAA;AAFA;AAGA;AACA;;;AAQA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAWA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AA3DA;AACA;AA8DA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}